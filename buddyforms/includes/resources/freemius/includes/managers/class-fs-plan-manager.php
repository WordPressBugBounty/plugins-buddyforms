<?php

if ( ! defined( 'ABSPATH' ) ) { exit; }

 if ( ! defined( 'ABSPATH' ) ) { exit; } class FS_Plan_Manager { private static $_instance; static function instance() { if ( ! isset( self::$_instance ) ) { self::$_instance = new FS_Plan_Manager(); } return self::$_instance; } private function __construct() { } function has_premium_license( $licenses ) { if ( is_array( $licenses ) ) { foreach ( $licenses as $license ) { if ( ! $license->is_utilized() && $license->is_features_enabled() ) { return true; } } } return false; } function has_paid_plan( $plans ) { if ( ! is_array( $plans ) || 0 === count( $plans ) ) { return false; } for ( $i = 0, $len = count( $plans ); $i < $len; $i ++ ) { if ( ! $plans[ $i ]->is_free() ) { return true; } } return false; } function has_free_plan( $plans ) { if ( ! is_array( $plans ) || 0 === count( $plans ) ) { return true; } for ( $i = 0, $len = count( $plans ); $i < $len; $i ++ ) { if ( $plans[ $i ]->is_free() ) { return true; } } return false; } function get_trial_plans( $plans ) { return $this->get_filtered_plans( $plans, true ); } function get_visible_trial_plans( $plans ) { return $this->get_filtered_plans( $plans, true, true ); } function get_filtered_plans( $plans, $should_have_trials = false, $should_be_visible = false ) { $filtered_plans = array(); if ( is_array( $plans ) && count( $plans ) > 0 ) { foreach ( $plans as $plan ) { if ( ( $should_have_trials && ! $plan->has_trial() ) || ( $should_be_visible && $plan->is_hidden ) ) { continue; } $filtered_plans[] = $plan; } } return $filtered_plans; } function has_trial_plan( $plans ) { if ( ! is_array( $plans ) || 0 === count( $plans ) ) { return true; } for ( $i = 0, $len = count( $plans ); $i < $len; $i ++ ) { if ( $plans[ $i ]->has_trial() ) { return true; } } return false; } }